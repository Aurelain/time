import Focus from '../utils/Focus';
import parseSearch from './parseSearch';

// =====================================================================================================================
//  T E S T S
// =====================================================================================================================
const tests = [
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'Default',
        output: 'Default',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'Worked',
        output: 'Worked',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'EDL-1957',
        output: 'issueKey=EDL-1957',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'https://foo.atlassian.net/issues/?jql=text%20~%20%22tren%22%20order%20by%20created%20DESC',
        output: 'text ~ "tren" order by created DESC',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'tren',
        output: 'text ~ "tren"',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'AND',
        output: 'Default',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'AND ',
        output: 'Default',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'AND x',
        output: 'AND text ~ "x"',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'AND labels not in (premature)',
        output: 'AND labels not in (premature)',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'AND EDL-1957',
        output: 'AND issueKey=EDL-1957',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'AND https://foo.atlassian.net/issues/?jql=text%20~%20%22tren%22%20order%20by%20created%20DESC',
        output: 'AND text ~ "tren" order by created DESC',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'OR',
        output: 'Default',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'OR ',
        output: 'Default',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'OR x',
        output: 'OR text ~ "x"',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'OR labels not in (premature)',
        output: 'OR labels not in (premature)',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'OR EDL-1957',
        output: 'OR issueKey=EDL-1957',
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: 'OR https://foo.atlassian.net/issues/?jql=text%20~%20%22tren%22%20order%20by%20created%20DESC',
        output: 'OR text ~ "tren" order by created DESC',
    },
];

// =====================================================================================================================
//  R U N
// =====================================================================================================================
Focus.run(parseSearch, tests);
